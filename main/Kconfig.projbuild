menu "Application-specific settings"

    menu "CAN settings"

        config CAN_TX_GPIO
            int "CAN TX GPIO"
            range 0 33
            default 23

        config CAN_RX_GPIO
            int "CAN RX GPIO"
            range 0 33
            default 22

        config CAN_RTR_TIMEOUT_MS
            int "RTR timeout (ms)"
            default 50
            help
                Timeout for Remote Transmission Request (RTR) responses.

    endmenu # CAN settings

    menu "ODrive settings"

        config ODRIVE_NODE_ID_M0
            int "Node-ID for Motor 0"
            range 0 255
            default 0

        config ODRIVE_NODE_ID_M1
            int "Node-ID for Motor 1"
            range 0 255
            default 1

        config ODRIVE_MAX_CALIBRATION_TIME_S
            int "Maximum calibration time (s)"
            default 20
            help
                Maximum time to wait for ODrive motor calibration to complete.

    endmenu # ODrive settings
    
    
    menu "micro-ROS application"

        config MROS_NODE_NAME
            string "micro-ROS node name"
            default "car_node"

        config MROS_NODE_NAMESPACE
            string "micro-ROS node namespace"
            default ""
            help
                Leave empty for no namespace.

        config MROS_CMD_VEL_TOPIC
            string "micro-ROS cmd_vel topic"
            default "cmd_vel"

        config MROS_ODOMETRY_TOPIC
            string "micro-ROS odometry topic"
            default "odom"

        config MROS_ODOMETRY_FRAME_ID
            string "micro-ROS odometry frame ID"
            default "odom"

        config MROS_BASE_FRAME_ID
            string "micro-ROS base frame ID"
            default "base_link"

        config MROS_ODOM_PUBLISHER_PERIOD_MS
            int "Odometry publisher period (ms)"
            default 100
            help
                Rate at which odometry messages are published.

    endmenu # micro-ROS application
    
    
    menu "Robot kinematics"

        config ROBOT_WHEEL_RADIUS_MM
            int "Wheel radius (mm)"
            default 32
            range 1 1000

        config ROBOT_TRACK_WIDTH_MM
            int "Track width (mm)"
            default 185
            range 1 1000

        config ROBOT_WHEEL_BASE_MM
            int "Wheelbase (mm)"
            default 255
            range 1 1000

    endmenu # Robot kinematics


    menu "Servo settings"

        config SERVO_GPIO
            int "Servo GPIO pin"
            range 0 33
            default 5
            help
                GPIO pin connected to the servo control signal.

        config SERVO_CALIBRATED_MIDDLE_OFFSET
            int "Servo calibrated middle offset"
            range -500 500
            default 46
            help
                Calibration offset for the servo middle position in microseconds.
                Adjust this value to align the servo to the true center position.

    endmenu # Servo settings


    config ERROR_LED_GPIO
        int "Error-LED GPIO"
        range 0 33
        default 8

    config JTAG_BUFF_SIZE
        int "JTAG buffer size"
        range 0 1024
        default 1024
    
endmenu # Application-specific settings
    